## [ELAN](https://archive.mpi.nl/tla/elan) extension for Speaker Diarization

This ELAN extension can segment and label audio based on speaker identity using a speaker diarization model hosted on the [CMU Linguistic Annotation Backend](https://github.com/neulab/cmulab) server

### Instructions

Install [Python 3](https://www.python.org/downloads/) if it isn't already installed.

Download and extract ELAN:
```
wget https://www.mpi.nl/tools/elan/ELAN_6-1_linux.tar.gz
tar xzf ELAN_6-1_linux.tar.gz
```

And copy this repo to ELAN's extensions dir/
```
cd ELAN_6-1/lib/app/extensions/
git clone https://github.com/zaidsheikh/cmulab_diarization_elan
```
or you can just download this [zip file](https://github.com/zaidsheikh/cmulab_diarization_elan/archive/refs/heads/main.zip) and extract it in ELAN's extensions dir

Start ELAN with a sample audio file

`ELAN_6-1/bin/ELAN test/audio_file.wav &`

Add a new tier and annotate a few segments of the audio with speaker names so that the diarization model has a few samples for each speaker. Now switch to the "Recognizers" tab and then select "CMULAB speaker diarization" from the Recognizer dropdown list at the top. In the parameters section, select the previously created tier as the input tier and then click the "Start" button. ELAN will prompt you to load the output tier generated by the recognizer. Once that's done, you should be able to see the speaker diarization annotations for the entire audio file.

![screenshot](https://user-images.githubusercontent.com/2358298/158424733-ecdb27c5-b303-460c-92fc-cb10d86eae1d.png)

**Note:** If this is your first time using this plugin, you will be prompted to login to the [CMULAB backend server](https://github.com/neulab/cmulab) and get an access token (you can create an account or simply login with an existing Google account):

![cmulab_login](https://user-images.githubusercontent.com/2358298/144942829-052e3f45-01f2-4f93-8562-2f95b00ec24f.png)
